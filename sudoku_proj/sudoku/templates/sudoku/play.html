<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
    <meta charset="UTF-8">
    <title>Sudoku Let's Play</title>
    <link rel="stylesheet" type="text/css" href="{%  static "StyleSheet.css" %}">
    <link href='https://fonts.googleapis.com/css?family=Nova Flat' rel='alternate stylesheet'>
</head>
<style>
    #canvas {
        border: 5px solid black;
        background-size: 100%;
        background-color: lightblue;
    }
</style>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->

<script>
    function draw() {
        const c = document.getElementById("canvas");
        const ctx = c.getContext("2d");
        for (let x = 0; x < 9; x++) {
            for (let y = 0; y < 9; y++) {
                ctx.fillStyle = "white";
                ctx.lineWidth = 2;
                ctx.strokeRect(56 * x, 56 * y, 56, 56);
            }
        }
        for (let x = 0; x < 9; x += 3) {
            for (let y = 0; y < 9; y += 3) {
                ctx.lineWidth = 4;
                ctx.strokeRect(56 * x, 56 * y, 56 * 3, 56 * 3);
            }
        }
    }

    function draw_number(row, col, num) {
        const c = document.getElementById("canvas");
        const ctx = c.getContext("2d");
        ctx.font = "50px Verdana"
        ctx.fillStyle = "black";
        ctx.textAlign = "center";
        ctx.fillText(num, (56 * col) + 28, (56 * row) + 47, 56);
    }

</script>

<body onload="draw()">
 <ul>
        <li><a href="{% url 'sudoku:index' %}">Home</a><br></li>
        <li><a href="{% url 'sudoku:how_to_play' %}">How to Play</a><br></li>
        <li><a href="{% url 'sudoku:new_game' %}">Start a New Game</a><br></li>
        <li><a href="{% url 'sudoku:leaderboard' %}">Leaderboards</a><br></li>
        <li><a href="{% url 'sudoku:about' %}">About this Application</a><br></li>
 </ul>
<div style="text-align: center;">
    <h1>Welcome {{ request.session.player }}!</h1>
</div>
<div style="text-align: center;">
    <canvas id="canvas" width="504" height="503">
        Browser not supported; Please upgrade to a modern browser.
    </canvas>
</div>
{% for row in request.session.board %}
{% for col in row %}
<script>
    row = "{{ forloop.parentloop.counter }}"
    col = "{{ forloop.counter }}"
    num = "{{ col }}"
    if (num.length == 1) {
        draw_number(row - 1, col - 1, num)
    }
</script>
{% endfor %}
{% endfor %}

</body>
</html>